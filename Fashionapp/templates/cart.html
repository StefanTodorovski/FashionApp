<!doctype html>
<html lang="en">
<head>
    {% load cart_extras %}
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <title>Hello, world!</title>

    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        .container-fluid {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .row {
            flex-grow: 1;
        }

        #meni {
            background: #D9D9D9;
            width: 15%;
        }

        .navbar-nav .nav-link {
            font-family: "Inria Serif", serif;
            font-size: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        #gd {
            font-family: "Inria Serif", serif;
            font-size: 40px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        #dg{

            font-family: "Inria Serif", serif;
            font-size: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        .footer {
            background-color: #E5E2E2;
            padding-top: 50px;
            text-align: left;
        }


    </style>
</head>
<body>
<section>
    <div class="row" style="background-color: #E5E2E2">
        <div class="col-3" id="meni" style="margin-right: 50px">
            <div class="container mt-5">
                <ul class="nav flex-column">
                    <li class="nav-item" style="text-align: center;">
                        <a class="nav-link" href="#"
                           style="font-family: 'IM FELL French Canon SC', serif; font-size: 23px;color: black"><b>Fashion
                            App</b></a>
                    </li>
                    {% if user.is_authenticated %}
                        <li class="nav-item" style="text-align: right">
        <span class="nav-link"
              style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 15px; margin-top: -10px">
            Logged in as: {{ user.username }}
        </span>
                        </li>
                        <li class="nav-item" style="text-align: right">
                            <a class="nav-link" href="{% url 'logout' %}"
                               style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 15px; margin-top: -10px">Log
                                out</a>
                        </li>
                    {% else %}
                        <li class="nav-item" style="text-align: right">
                            <a class="nav-link" href="{% url 'login' %}"
                               style="font-family: 'IM FELL French Canon SC', serif; color: black ; font-size: 15px;margin-top: -10px">Log
                                in</a>
                        </li>
                        <li class="nav-item" style="text-align: right;">
                            <a class="nav-link" href="{% url 'signup' %}"
                               style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 15px;margin-top: -10px">Create
                                account</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
            <div class="container mt-5">
                <ul class="nav flex-column">
                    <li class="nav-item" style="text-align: center;">
                        <a class="nav-link" href="{% url 'home' %}"
                           style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 18px;"><i
                                class="fas fa-home"></i> Home</a>
                    </li>
                    <li class="nav-item" style="text-align: center;">
                        <a class="nav-link" href="{% url 'categories' %}"
                           style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 18px;"><i
                                class="fas fa-search"></i> Categories</a>
                    </li>
                    <li class="nav-item" style="text-align: center;">
                        <a class="nav-link" href="#"
                           style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 18px;"><i
                                class="fas fa-bookmark"></i> Saved</a>
                    </li>
                    <li class="nav-item" style="text-align: center;">
                        <a class="nav-link" href="#"
                           style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 18px;"><i
                                class="fas fa-shopping-cart"></i> Cart</a>
                    </li>
                    <li class="nav-item" style="text-align: center;">
                        <a class="nav-link" href="#"
                           style="font-family: 'IM FELL French Canon SC', serif; color: black; font-size: 18px;"><i
                                class="fas fa-dollar-sign"></i> Selling</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-9">
            <div>
                <nav class="navbar navbar-expand-lg navbar-light">
                    <div class="container">
                        <a class="navbar-brand" href="#"></a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" href="#">Male</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" href="#">Female</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" href="#">Newest collection</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link active" aria-current="page" href="#">Sale</a>
                                </li>

                            </ul>
                            <form class="d-flex" action="{% url 'categories' %}" method="GET">
                                <input class="form-control me-2" type="search" name="query" placeholder="Search"
                                       aria-label="Search"
                                       style="width: 330px; border: 2px solid dimgrey">
                            </form>

                        </div>
                    </div>
                </nav>
            </div>

            <div class="container mt-5">
                <div class="row" style="text-align: center; justify-content: center">
                    <p id="gd">Cart</p>
                    <hr class="w-100" style="height: 5px">
                </div>
            </div>

            {% if cart %}
                <div class="container mt-5">
                    {% for item in cart %}
                        <div class="row mt-4" id="srede">

                            <div class="col-4">
                                <div class="card h-100 d-flex flex-column"
                                     style="width: 18rem; border: 0px; background-color: #D9D9D9">
                                    <img src="{{ MEDIA_URL }}{{ item.product.image.url }}" class="card-img-top"
                                         style="border-radius: 30px; padding: 10px; height: 270px" alt="...">
                                    <div class="card-body flex-grow-1" style="text-align: center">
                                        <p>{{ item.product.name }} {{ item.product.price }}$</p>
                                    </div>
                                </div>

                            </div>
                            <div class="col-2">
                                <p><b>Each price</b></p>
                                <p>{{ item.product.price }} $</p>

                            </div>
                            <div class="col-2">
                                <p><b>Quantity:</b></p>
                                <p>{{ item.quantity }}</p>
                            </div>
                            <div class="col-2">
                                <p><b>Total price :</b></p>
                                <p>{{ item.total_price }} $</p>


                            </div>
                            <div class="col-2">
                                <div class="container mt-3">
                                    <form method="POST" action="{% url 'delete_item' item.id %}">
                                        {% csrf_token %}
                                        <button type="submit" style="color:red;">Delete</button>
                                    </form>
                                </div>

                            </div>


                        </div>
                    {% endfor %}
                </div>
            {% else %}
                <div class="row mt-3">
                    <div class="col mt-5" style="text-align: center">
                        <p>Your cart is empty browse more product</p>
                        <a href="{% url 'shirts' %}" class="btn-lg btn-light"
                           style="border-radius: 50px; border: 3px solid black">Shop Now</a>
                    </div>

                </div>
            {% endif %}

            <div class="container mt-5">
                <div class="row" style="text-align: right; justify-content: right">
                    <hr class="w-100" style="height: 5px;justify-content: right">
                    <p id="dg">Total Amount: ${{ cart|total_amount }}</p>
                     <a href="{% url 'payment' %}" class="btn-lg btn-light" style=" width: 100px;border: 3px solid black ; text-align: center">Pay</a>
                </div>
            </div>


            <div class="footer" style="margin-top: 200px">
                <div class="container">
                    <div class="row">
                        <div class="col">
                            <p>200 Bordon street</p>
                            <p>Sandusky,OH,23131</p>
                            <p>call:1-800-000-000</p>
                        </div>
                        <div class="col">
                            <p>Shipping & Returns</p>
                            <p>FAQ</p>
                        </div>
                        <div class="col">
                            <p>Receive all our news and updates</p>
                            <textarea placeholder="Email address" style="width: 350px"></textarea>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>

</section>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
